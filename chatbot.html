<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chatbot Widget - SereneAI</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&family=Open+Sans:wght@400&display=swap" rel="stylesheet">
<style>
:root{
    --navy:#0B2342;
    --teal:#1D8A73;
    --light-gray:#F6F9F9;
    --alt-light:#EEF5F4;
    --dark-gray:#4D4D4D;
    --white:#FFFFFF;
}
body{
    margin:0;
    font-family:'Open Sans',sans-serif;
    background:var(--light-gray);
    color:var(--navy);
    line-height:1.7;
    -webkit-font-smoothing:antialiased;
}
.container{
    max-width:600px;
    margin:2rem auto;
    background:var(--white);
    border-radius:12px;
    box-shadow:0 4px 12px rgba(0,0,0,.05);
    padding:1.5rem;
}
.chat-area{
    min-height:300px;
    display:flex;
    flex-direction:column;
    gap:1rem;
}
.message{
    max-width:80%;
    padding:.75rem 1rem;
    border-radius:20px;
    line-height:1.4;
}
.bot{
    background:var(--alt-light);
    align-self:flex-start;
}
.user{
    background:var(--teal);
    color:var(--white);
    align-self:flex-end;
}
.input-area{
    display:flex;
    gap:.5rem;
    margin-top:1rem;
}
.input-area input[type="text"]{
    flex:1;
    padding:.75rem 1rem;
    border:1px solid #ccc;
    border-radius:8px;
    font-size:1rem;
}
.input-area button{
    background:var(--teal);
    color:var(--white);
    border:none;
    padding:.75rem 1.5rem;
    border-radius:8px;
    font-family:'Montserrat',sans-serif;
    font-weight:600;
    cursor:pointer;
}
.confirm-buttons{
    display:flex;
    gap:1rem;
    margin-top:.5rem;
}
.confirm-buttons button{
    padding:.5rem 1rem;
    font-family:'Montserrat',sans-serif;
    border-radius:8px;
    border:none;
    cursor:pointer;
}
.confirm-buttons .yes{background:var(--teal);color:var(--white);}
.confirm-buttons .no{background:var(--navy);color:var(--white);}
@media(max-width:480px){
    .container{margin:1rem;}
    .message{max-width:100%;}
}
</style>
</head>
<body>
<div class="container">
    <div id="chat" class="chat-area" aria-live="polite"></div>
    <div id="input-area" class="input-area">
        <input type="text" id="user-input" aria-label="Type your response">
        <button id="send-btn">Send</button>
    </div>
</div>
<script>
(function(){
    const chat=document.getElementById('chat');
    const userInput=document.getElementById('user-input');
    const sendBtn=document.getElementById('send-btn');

    const data={};
    function getChatbotWelcomeMessage(session){
        if(!session.message){
            return (
                "Hi! I\u2019m SereneAI, your virtual assistant.\n"+
                "Please share your name, email or phone number, and how we can help you.\n"+
                "We\u2019ll be in touch as soon as we can."
            );
        }else{
            return "Thanks! We\u2019ve got your details and will be in contact shortly.";
        }
    }

    let received=false;

    function addMessage(text,cls){
        const div=document.createElement('div');
        div.className='message '+cls;
        div.textContent=text;
        chat.appendChild(div);
        chat.scrollTop=chat.scrollHeight;
    }

    function ask(text){addMessage(text,'bot');}

    function start(){ask(getChatbotWelcomeMessage(data));}

    function handleSend(){
        const value=userInput.value.trim();
        if(!value)return;
        addMessage(value,'user');
        userInput.value='';
        if(!received){
            data.message=value;
            received=true;
            ask(getChatbotWelcomeMessage({message:value}));
        }
    }

    sendBtn.addEventListener('click',handleSend);
    userInput.addEventListener('keypress',e=>{if(e.key==='Enter'){handleSend();}});

    start();
})();
</script>
</body>
</html>
